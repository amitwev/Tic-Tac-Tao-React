{"ast":null,"code":"import _slicedToArray from \"D:\\\\My Personal Projects\\\\TicTacTao-React\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"D:\\\\My Personal Projects\\\\TicTacTao-React\\\\client\\\\src\\\\Components\\\\GameLogic\\\\GameLogic.js\";\nimport React, { useState } from 'react';\nimport Board from '../Board/Board';\nimport './GameLogic.css';\nimport Status from './Status';\nimport SettingsModal from './SettingsModal';\nimport AIComputer from './AIComputer';\nimport Header from '../Header';\nimport Footer from '../Footer';\nimport { SemipolarLoading } from 'react-loadingg';\n\nconst GameLogic = () => {\n  //Init state for board and player turn\n  const _useState = useState(Array(9).fill(null)),\n        _useState2 = _slicedToArray(_useState, 2),\n        boardCards = _useState2[0],\n        setBoardCards = _useState2[1];\n\n  const _useState3 = useState(true),\n        _useState4 = _slicedToArray(_useState3, 2),\n        isAgainstRandom = _useState4[0],\n        setIsAgainstRandom = _useState4[1];\n\n  const _useState5 = useState(true),\n        _useState6 = _slicedToArray(_useState5, 2),\n        playerXturn = _useState6[0],\n        setPlayerXturn = _useState6[1];\n\n  const _useState7 = useState(false),\n        _useState8 = _slicedToArray(_useState7, 2),\n        settingsModal = _useState8[0],\n        setSettingsModal = _useState8[1];\n\n  const _useState9 = useState(false),\n        _useState10 = _slicedToArray(_useState9, 2),\n        isPlayerFirst = _useState10[0],\n        setIsPlayerFirst = _useState10[1];\n\n  const _useState11 = useState(false),\n        _useState12 = _slicedToArray(_useState11, 2),\n        isLoading = _useState12[0],\n        setIsLoading = _useState12[1]; //Player on click function\n\n\n  const playerClickOnCard = index => {\n    const cardsArr = [...boardCards];\n\n    if (Status.someoneIsWinner(cardsArr) || cardsArr[index]) {\n      return;\n    } //put value in the arr depends on player\n\n\n    cardsArr[index] = playerXturn ? 'X' : 'O'; //update params\n\n    setBoardCards(cardsArr);\n    setPlayerXturn(!playerXturn);\n  }; //Reset Board\n\n\n  const resetBoard = () => {\n    setBoardCards(Array(9).fill(null));\n    setPlayerXturn(true);\n  }; //Game Settings\n\n\n  const gameSettings = () => {\n    setSettingsModal(true);\n  };\n\n  const handleCloseModal = () => {\n    setSettingsModal(false);\n  };\n\n  const handleOnChangeAgainstRandom = e => {\n    console.log('inside parent on change modal = ', e, e.target.id);\n    setIsAgainstRandom(e.target.id === 'randomComputer' ? true : false);\n  };\n\n  const handleOnChangeWhoStart = e => {\n    console.log(\"inside is player on change = \", e, \", \", e.target.value);\n    setIsPlayerFirst(e.target.id === 'startMe' ? true : false);\n  }; //Computer turn \n\n\n  const computerTurn = () => {\n    isAgainstRandom ? playerClickOnCard(RandomComputerTurn()) : playerClickOnCard(AIComputerTurn());\n  }; //Random computer chose\n\n\n  const RandomComputerTurn = () => {\n    console.log(\" inside random computer player\");\n\n    if (!playerXturn && !Status.isBoardFull(boardCards)) {\n      //Choosing rand num while board is not full \n      let randNum = Math.floor(Math.random() * 10);\n\n      do {\n        randNum = Math.floor(Math.random() * 10);\n      } while (!Status.isBoardFull(boardCards) && boardCards[randNum] !== null);\n\n      return randNum;\n    }\n\n    return null;\n  }; // Computer Turn - AI computer \n\n\n  const AIComputerTurn = () => {\n    console.log(\" inside AI computer player\"); // Minimax function need to return the index that the computer turn \n\n    let newCardsFills = boardCards.map((value, i) => {\n      return value ? value : i;\n    });\n    let toReturn = AIComputer.MinimaxFunctionForAi(newCardsFills, true);\n    return toReturn.index;\n  }; //Game run\n\n\n  let winner = Status.someoneIsWinner(boardCards);\n  let status = Status.checkStatus(winner, playerXturn, isAgainstRandom);\n\n  if (!playerXturn && !isPlayerFirst) {\n    computerTurn();\n  }\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, React.createElement(Header, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    id: 'gameButtonsWrapper',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: 'gameButtons',\n    onClick: gameSettings,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, \"Settings\"), React.createElement(\"button\", {\n    className: 'gameButtons',\n    onClick: resetBoard,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, \"Reset Board\")), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    id: 'status',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }, status), React.createElement(Board, {\n    id: \"board\",\n    winner: winner,\n    playerClickOnCard: playerClickOnCard,\n    boardCards: boardCards,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }), isLoading ? React.createElement(SemipolarLoading, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }) : null), React.createElement(Footer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }), settingsModal ? React.createElement(SettingsModal, {\n    show: settingsModal,\n    handleOnChangeAgainstRandom: handleOnChangeAgainstRandom,\n    handleCloseModal: handleCloseModal,\n    isAgainstRandom: isAgainstRandom,\n    isPlayerFirst: isPlayerFirst,\n    handleOnChangeWhoStart: handleOnChangeWhoStart,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }) : null);\n};\n\nexport default GameLogic;","map":{"version":3,"sources":["D:/My Personal Projects/TicTacTao-React/client/src/Components/GameLogic/GameLogic.js"],"names":["React","useState","Board","Status","SettingsModal","AIComputer","Header","Footer","SemipolarLoading","GameLogic","Array","fill","boardCards","setBoardCards","isAgainstRandom","setIsAgainstRandom","playerXturn","setPlayerXturn","settingsModal","setSettingsModal","isPlayerFirst","setIsPlayerFirst","isLoading","setIsLoading","playerClickOnCard","index","cardsArr","someoneIsWinner","resetBoard","gameSettings","handleCloseModal","handleOnChangeAgainstRandom","e","console","log","target","id","handleOnChangeWhoStart","value","computerTurn","RandomComputerTurn","AIComputerTurn","isBoardFull","randNum","Math","floor","random","newCardsFills","map","i","toReturn","MinimaxFunctionForAi","winner","status","checkStatus"],"mappings":"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","sourcesContent":["import React, { useState }  from 'react'; \r\nimport Board from '../Board/Board';\r\nimport './GameLogic.css';\r\nimport Status from './Status';\r\nimport SettingsModal from './SettingsModal';\r\nimport AIComputer from './AIComputer';\r\nimport Header from '../Header';\r\nimport Footer from '../Footer';\r\nimport { SemipolarLoading } from 'react-loadingg';\r\n\r\n\r\nconst GameLogic = () => {\r\n    //Init state for board and player turn\r\n    const [ boardCards, setBoardCards ] = useState(Array(9).fill(null));\r\n    const [ isAgainstRandom, setIsAgainstRandom] = useState(true);\r\n    const [ playerXturn, setPlayerXturn] = useState(true); \r\n    const [ settingsModal, setSettingsModal ] = useState(false);\r\n    const [ isPlayerFirst, setIsPlayerFirst ] = useState(false);\r\n    const [ isLoading, setIsLoading ] = useState(false);\r\n\r\n    //Player on click function\r\n    const playerClickOnCard = (index) => {\r\n        const cardsArr = [...boardCards]; \r\n        if(Status.someoneIsWinner(cardsArr) || cardsArr[index]){\r\n            return; \r\n        }\r\n        //put value in the arr depends on player\r\n        cardsArr[index] = playerXturn ? 'X' : 'O'; \r\n        //update params\r\n        setBoardCards(cardsArr); \r\n        setPlayerXturn(!playerXturn); \r\n    }\r\n\r\n    //Reset Board\r\n    const resetBoard = () => {\r\n        setBoardCards(Array(9).fill(null));\r\n        setPlayerXturn(true);\r\n    }\r\n\r\n    //Game Settings\r\n    const gameSettings = () => {\r\n        setSettingsModal(true);\r\n    }\r\n    const handleCloseModal = () => {\r\n        setSettingsModal(false);\r\n    }\r\n    const handleOnChangeAgainstRandom = ( e ) => {\r\n        console.log('inside parent on change modal = ', e, e.target.id)\r\n        setIsAgainstRandom(e.target.id === 'randomComputer' ? true : false);\r\n    }\r\n    const handleOnChangeWhoStart = ( e ) => {\r\n        console.log(\"inside is player on change = \",e, \", \", e.target.value)\r\n        setIsPlayerFirst(e.target.id === 'startMe' ? true : false)\r\n    }\r\n    //Computer turn \r\n    const computerTurn = () => {\r\n        (isAgainstRandom) \r\n            ? playerClickOnCard(RandomComputerTurn()) \r\n            : playerClickOnCard(AIComputerTurn());\r\n    }\r\n    //Random computer chose\r\n    const RandomComputerTurn = () => {\r\n        console.log(\" inside random computer player\")\r\n        if(!playerXturn && !Status.isBoardFull(boardCards)){\r\n            //Choosing rand num while board is not full \r\n            let randNum = Math.floor(Math.random() * 10);\r\n            do {\r\n                randNum = Math.floor(Math.random() * 10);\r\n            } while(!Status.isBoardFull(boardCards) && boardCards[randNum] !== null)   \r\n            return (randNum); \r\n        }\r\n        return null;\r\n    }\r\n    // Computer Turn - AI computer \r\n    const AIComputerTurn = () => {\r\n        console.log(\" inside AI computer player\")\r\n        // Minimax function need to return the index that the computer turn \r\n        let newCardsFills = boardCards.map((value, i)  => {\r\n            return (value) ? value : i;\r\n        })\r\n        let toReturn = AIComputer.MinimaxFunctionForAi(newCardsFills, true)\r\n        return toReturn.index;\r\n    }\r\n    \r\n    //Game run\r\n    let winner = Status.someoneIsWinner(boardCards); \r\n    let status = Status.checkStatus(winner, playerXturn, isAgainstRandom); \r\n    if(!playerXturn && !isPlayerFirst){\r\n        computerTurn();\r\n    }\r\n\r\n    return(\r\n        <div>\r\n            <Header/>\r\n            <div id={'gameButtonsWrapper'}>\r\n                <button className={'gameButtons'} onClick={gameSettings}>Settings</button>\r\n                <button className={'gameButtons'} onClick={resetBoard}>Reset Board</button>\r\n            </div>\r\n            <div>\r\n                <div id={'status'}>{status}</div>\r\n                <Board  id={`board` }\r\n                        winner={winner}\r\n                        playerClickOnCard={playerClickOnCard}\r\n                        boardCards={boardCards}/> \r\n                {isLoading ? <SemipolarLoading /> : null} \r\n            </div>\r\n            <Footer/>\r\n            {/* Modal for Settings */}\r\n            {settingsModal ? <SettingsModal \r\n                                    show={settingsModal} \r\n                                    handleOnChangeAgainstRandom={handleOnChangeAgainstRandom} \r\n                                    handleCloseModal={handleCloseModal}\r\n                                    isAgainstRandom={isAgainstRandom}\r\n                                    isPlayerFirst={isPlayerFirst}\r\n                                    handleOnChangeWhoStart={handleOnChangeWhoStart}/> \r\n                            : null}\r\n        </div>\r\n\r\n    )\r\n}\r\nexport default GameLogic;"]},"metadata":{},"sourceType":"module"}